---
# File: roles/java/tasks/main.yml

#
# OpenJDK 8
#
  
- name: install the latest OpenJDK 8
  apt: name={{ item }} state=latest
  with_items:
    - openjdk-8-jdk
    - openjdk-8-demo
    - openjdk-8-source
    - openjdk-8-doc
  tags:
    - java

#
# Set up the java alternatives to point to OpenJDK 8
#

- name: set up the java alternatives to point to OpenJDK 8 (64-bit)
  alternatives: name={{ item.name }} path={{ item.path }}
  with_items: "{{ java_alternatives_64 }}"
  when: ansible_architecture == "x86_64"

- name: set up the java alternatives to point to OpenJDK 8 (32-bit)
  alternatives: name={{ item.name }} path={{ item.path }}
  with_items: "{{ java_alternatives_32 }}"
  when: ansible_architecture == "i386"
  
